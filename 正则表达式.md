# 正则表达式
三: 正则表达式  
基本正则表达式元字符  
元字符  功能  示例  
\=========================================  
^  行首定位符号 ^love  
$  行尾定位符号 love$  
.  匹配单个字符 l..e  
\*  匹配前面的字符0个或者多个 ab\*love  
.\*  匹配任意多个字符  
\[\]  匹配指定范围内的一个字符 \[lL\]ove  
\[ - \]  匹配指定范围内的一个字符 \[^a-z0-9\]ove  
\[^\]  匹配不在指定组内的一个字符 \[^a-z0-9\]ove  
\\  用来转义元字符  love\\.  
\\<  词首部定位符号  \\<love  
\\>  词尾定位符号  love\\>  
\\(..\\)  匹配稍后使用的字符标签 :s/172.16.130.1/172.16.130.5/  
     :s/\\(172.16.130.\\)1/\\15/  
     :s/\\(172.\\)\\(16.\\)\\(130.\\)/\\1\\2\\35/  
     :3,9s/\\(.\*\\)/#\\1/                  注释第三行到第九行  
x\\{m\\}  字符x重复出现m次  o\\{5\\}  
x\\{m,\\}  字符x重复出现至少m次  
x\\(m,n\\}  字符x出现次数至少m次最多n次  
扩展正则表达式元字符  
\+  匹配一个或者多个前导符号  \[a-z\]+ove  
?  匹配0个或者1个前导符  lo?ve  
a|b  匹配a或者b   love|hate  
()  组字符    loveable|rs  love(able|rs)ov+  (ov)+  
(..)(..)\\1\\2 标签匹配字符   (love)able\\1er    
x{m}  字符x重复m次   o{5}  
x{m,}  字符x重复至少m次   o{5,}  
x{m,n}  字符x重复m到n次   o{5,10}

2 POSIX字符类  
表达式  功能    示例  
\[:alnum:\]  字母与数字字符   \[\[:alnum\]\]+  
\[:alpha:\]  字母字符(包括大小写字母)  \[\[:alpha:\]\]{4} 匹配由4个字符组成的字符串  
\[:blank:\]  空格与制表符号   \[\[:blank:\]\]\*   
\[:digit:\]  数字字母    \[\[:digit:\]\]?   
\[:lower:\]  小写字母    \[\[:lower:\]\]{5,}  
\[:upper:\]  大写字母    \[\[:upper:\]\]+  
\[:punct:\]  标点符号    \[\[:punct:\]\]  
\[:space:\]  包括换行符号 回车等在内的所有空白字符 \[\[:space:\]\]+  
正则匹配实例  
vim  
/love/  
/^love/  # 匹配love开头的行  
/love$/  # 匹配love结尾的行  
/l.ve/ # 匹配前面的love live l1ve 的 . 代表任意单个字符  
/lo\*ve/ # 匹配前面的o 0次或者多次  
/\[Ll\]ove/ # 匹配 Love 或者 love   
/love\[a-z\]/ # 匹配love后面跟上一个a-z之间的字符  
/love\[^a-zA-Z0-9\]/ # 匹配love后面跟上的不是a-z A-Z 0-9 之间的任意单个字符  
  
/.\*/ # 匹配任意字符  
/^$/ # 匹配空白行  
/^\[A-Z\]..$/ # 匹配已单个大写字符开头中间跟上任意两个单个字符的行  
/^\[A-Z\]\[a-z\]\*3\[0-5\]/ 匹配已一个大写字母开头跟上0个或者多个小写字符跟上3后面在跟上0-5之间的数字的字符串  
/\[a-z\]\*\\./ # 匹配0个或者多个小写字符后面跟上. 的字符传  
/^ \*\[A-Z\]\[a-z\]\[a-z\]$/ # 匹配已0个或者多个空格开头的行 已大写字符加上两个小写字母结尾的行  
/^\[A-Za-z\]\*\[^,\]\[A-Za-z\]\*$/ # 匹配以0个或者多个大写或者小写字母开头的行,后面不能有逗号,后面跟上0个或者多个小写字母或者大写字母结尾的行  
/\\<fourth\\>/ # 匹配单词fourth单词  
/\\<f.\*th\\>/  
/5{2}2{3}\\./ # 匹配 55222.  
/^\[ \\t\]\*$/ # 空白行  
注释行  
/^#/  
/^\[ \\t\]\*#/