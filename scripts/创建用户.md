```
#!/bin/bash

# 需求1: 用户输入要创建用户的数量

LANG=en
while :
do
read -p "Please enter the number of users you want to create: " num
        if [ -n "$num" ];then
		while :
		do
                	if [[ "$num" =~ ^[0-9]+$ ]];then
                        	break 2
			else
				read -p "Please enter the number of users you want to create: " num
                	fi
		done
        fi
done

# 需求2：用户输入创建用户的前缀，比如user admin之类的

while :
do
	read -p "Please enter the prefix for the user you want to create(Must begin with a character): " prefix
	if [ -n "$prefix" ];then
		break
	fi
	if [[ "$prefix" =~ ^[a-bA-Z]+* ]];then
		break
	fi
done

# 需求3：系统判断存在此用户就不创建，不存在就创建，将创建完成的用户/密码写入到文件中，创建失败的用# 户写入到失败的文件内部

for i in `seq ${num}`
do
	id "$prefix""$i" &>/dev/null
	if [  $? -eq 0 ];then
	sudo echo $prefix$i Already in existence >>crate_status.txt
	else
	sudo useradd $prefix$i &>/dev/null
	sudo echo $prefix$i$RANDOM | passwd --stdin $prefix$i &>/dev/null
	sudo echo "$prefix$i/$prefix$i$RADOMS Creating a successful" >>crate_status.txt
	fi
	let i++
done
```

