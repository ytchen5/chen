# linux-find命令

　　***\**\*\*\*根据部分文件名查找方法：\*\*\*\*\****

　　这个方法和在*[WINDOWS](http://www.zydg.net/computer/book/read/keys/windows/index.html)*中查找已知的文件名方法是一样的。不过在*Linux*中根据部分文件名查找文件的方法要比在*WINDOWS*中的同类查找方法要强大得多。例如我们知道某个文件包含有*srm*这*3*个字母，那么要找到系统中所有包含有这*3*个字母的文件是可以实现的，输入：

　

```
　*find /etc -name '\*srm\*'
```

　 　这个命令表明了*Linux*系统将在*/etc*整个目录中查找所有的包含有*srm*这*3*个字母的文件，比如 *absrmyz*， *tibc.srm*等等符合条件的文件都能显示出来。如果你还知道这个文件是由*srm* 这*3*个字母打头的，那么我们还可以省略最前面的星号，命令如下：

　

```
　find/etc -name 'srm\*'
```

　　这是只有像*srmyz* 这样的文件才被查找出来，象*absrmyz*或者 *absrm*这样的文件都不符合要求，不被显示，这样查找文件的效率和可靠性就大大增强了。

***\**\*\*\*根据文件的特征查询方法：\*\*\*\*\****

 

　　如果只知道某个文件的大小，修改日期等特征也可以使用“*find”*命令查找出来，这和*[WINDOWS](http://www.zydg.net/computer/book/read/keys/windows/index.html)*系 统中的*"*搜索*"*功能是基本相同的。在微软的*"*搜索*"*中*WINDOWS*中的*"*搜索助理*"*使得搜索文件和文件夹、打印机、用户以及网络中的其他计算机更加容 易。它甚至使在*Internet* 上搜索更加容易。*"*搜索助理*"*还包括一个索引服务，该服务维护了计算机中所有文件的索引，使得搜索速度更快。使用*"*搜索助理*"*时，用户可以指定多个搜索标 准。例如，用户可以按名称、类型及大小搜索文件和文件夹。用户甚至可以搜索包含特定文本的文件。如果用户正使用 *Active Directory*，这时还可以搜索带有特定名称或位置的打印机。

　 　例如我们知道一个*Linux*文件大小为*1,500 bytes*，那么我们可是使用如下命令来查询*find / -size 1500c*，字符 *c* 表明这个要查找的文件的大小是以*bytes*为单位。如果我们连这个文件的具体大小都不知道，那么在*Linux*中还可以进行模糊查找方式来解决。例如我们输 入*find/ -size +10000000c* 这个命令，则标明我们指定系统在根目录中查找出大于*10000000*字节的文件并显示出来。命令中的“＋”是表示要求系统只列出大于指定大小的文件，而使 用“*-”*则表示要求系统列出小于指定大小的文件。下面的列表就是在*Linux*使用不同“ *find"*命令后系统所要作出的查找动作，从中我们很容易看出在*Linux*中使用“*find"*命令的方式是很多的，“ *find"*命令查找文件只要灵活应用，丝毫不必在*WINDOWS*中查找能力差。

* ```
  find / -amin -10 #* 查找在系统中最后*10*分钟访问的文件
  find / -atime -2 #* 查找在系统中最后*48*小时访问的文件
  find / -empty #* 查找在系统中为空的文件或者文件夹
  find / -group cat #* 查找在系统中属于 *groupcat*的文件
  find / -mmin -5 #* 查找在系统中最后*5*分钟里修改过的文件
  find / -mtime -1 #*查找在系统中最后*24*小时里修改过的文件
  find / -nouser #*查找在系统中属于作废用户的文件
  find / -user fred #*查找在系统中属于*FRED*这个用户的文件
  ```

　　下面的列表就是对*find*命令所可以指定文件的特征进行查找的部分条件。在这里并没有列举所有的查找条件，参考有关*Linux*有关书籍可以知道所有*find*命令的查找函数。

| *-amin n*      | 查找系统中最后*N*分钟访问的文件                              |
| -------------- | ------------------------------------------------------------ |
| *-atime n*     | 查找系统中最后*n\*24*小时访问的文件                          |
| *-cmin n*      | 查找系统中最后*N*分钟被改变状态的文件                        |
| *-ctime n*     | 查找系统中最后*n\*24*小时被改变状态的文件                    |
| *-empty*       | 查找系统中空白的文件，或空白的文件目录，或目录中没有子目录的文件夹 |
| *-false*       | 查找系统中总是错误的文件                                     |
| *-fstype type* | 查找系统中存在于指定文件系统的文件，例如：*ext2 .*           |
| *-gid n*       | 查找系统中文件数字组 *ID* 为 *n*的文件                       |
| *-group gname* | 查找系统中文件属于*gnam*文件组，并且指定组和*ID*的文件       |

　　****\**\*\*\*Find\*\*\*\*\********\**\*\*\*命令的控制选项说明：\*\*\*\*\****

　　*Find*命令也提供给用户一些特有的选项来控制查找操作。下表就是我们总结出的最基本，最常用的*find*命令的控制选项及其用法。

| 选项               | 用途描述                                                     |
| ------------------ | ------------------------------------------------------------ |
| *-daystart*        | 测试系统从今天开始*24*小时以内的文件，用法类似*-amin*        |
| *-depth*           | 使用深度级别的查找过程方式*,*在某层指定目录中优先查找文件内容 |
| *-follow*          | 遵循通配符链接方式查找*;* 另外，也可忽略通配符链接方式查询   |
| *-help*            | 显示命令摘要                                                 |
| *-maxdepth levels* | 在某个层次的目录中按照递减方法查找                           |
| *-mount*           | 不在文件系统目录中查找， 用法类似 *-xdev.*                   |
| *-noleaf*          | 禁止在非*UNUX*文件系统，*MS-DOS*系统，*CD-ROM*文件系统中进行最优化查找 |
| *-version*         | 打印版本数字                                                 |

　　使用*-follow*选项后，*find*命令则遵循通配符链接方式进行查找，除非你指定这个选项，否则一般情况下*find*命令将忽略通配符链接方式进行文件查找。

　　*-maxdepth*选项的作用就是限制*find*命令在目录中按照递减方式查找文件的时候搜索文件超过某个级别或者搜索过多的目录，这样导致查找速度变慢，查找花费的时间过多。例如，我们要在当前*(.)*目录技巧子目录中查找一个名叫*fred*的文件，我们可以使用如下命令

```
　find . -maxdepth 2 -name fred
```

　 　假如这个*fred*文件在*./sub1/fred*目录中，那么这个命令就会直接定位这个文件，查找很容易成功。假如，这个文件在*./sub1/sub2 /fred*目录中，那么这个命令就无法查找到。因为前面已经给*find*命令在目录中最大的查询目录级别为*2*，只能查找*2*层目录下的文件。这样做的目的就是 为了让*find*命令更加精确的定位文件，如果你已经知道了某个文件大概所在的文件目录级数，那么加入*-maxdepth n* 就很快的能在指定目录中查找成功。

　　***\**\*\*\*使用混合查找方式查找文件\*\*\*\*\****

　　*find*命令可以使用混合查找的方法，例如我们想在*/tmp*目录中查找大于*100000000*字节并且在*48*小时内修改的某个文件，我们可以使用*-and* 来把两个查找选项链接起来组合成一个混合的查找方式。*
* ```
  find /tmp -size +10000000c -and -mtime +2
  ```

　　学习过计算机语言的朋友都知道，在计算机语言里，使用*and ,or* 分别表示“与”和“或”的关系。在*Linux*系统的查找命令中一样通用。*
* 还有这样的例子，*

* ```
  find /tmp -user fred -or -user george
  ```

　　我们可以解释为在*/tmp*目录中查找属于*fred*或者*george*这两个用户的文件。*
* 在*find*命令中还可以使用“非”的关系来查找文件，如果我们要在*/tmp*目录中查找所有不属于*panda*的文件，使用一个简单的*

* ```
  find /tmp ! -user panda 
  ```

*　　命令就可以解决了。很简单。

　　***\**\*\*\*查找并显示文件的方法\*\*\*\*\****

　　查找到某个文件是我们的目的，我们更想知道查找到的文件的详细信息和属性，如果我们采取现查找文件，在使用*LS*命令来查看文件信息是相当繁琐的，现在我们也可以把这两个命令结合起来使用。

```
　find / -name "httpd.conf" -ls
```

　　系统查找到*httpd.conf*文件后立即在屏幕上显示*httpd.conf*文件信息。*
* ```
  12063 34 -rw-r--r-- 1 root root 33545 Dec 30 15:36 /etc/httpd/conf/httpd.conf
  ```

  

　　下面的表格就是一些常用的查找文件并显示文件信息的参数和使用方法

 

| 选项                   | 用途描述                                       |
| ---------------------- | ---------------------------------------------- |
| *-exec command*        | 查找并执行命令                                 |
| *-fprint file*         | 打印文件完整文件名                             |
| *-fprint0 file*        | 打印文件完整文件名包括空的文件                 |
| *-fprintf file format* | 打印文件格式                                   |
| *-ok command*          | 给用户命令执行操作，根据用户的*Y* 确认输入执行 |
| *-printf format*       | 打印文件格式                                   |
| *-ls*                  | 打印同种文件格式的文件                         |

　　总结：到这里为止我们已经学习了这名多关于*find*命令的使用方法，也列出了很多常用的*find*命令的选项，如果我们能熟练掌握在*Linux*中*find*命令的使用方法，那么在*Linux*中查找文件也不是一件困难的事情

